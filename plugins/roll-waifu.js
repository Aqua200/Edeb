/*
• @David-Chian
- https://github.com/David-Chian
*/

const _0x47acf7=_0x267e;(function(_0x1bba6f,_0x5d77d4){const _0x2a2e21=_0x267e,_0x6d5826=_0x1bba6f();while(!![]){try{const _0xe2c388=-parseInt(_0x2a2e21(0xe3))/0x1*(-parseInt(_0x2a2e21(0xdf))/0x2)+-parseInt(_0x2a2e21(0xc6))/0x3*(-parseInt(_0x2a2e21(0xbf))/0x4)+-parseInt(_0x2a2e21(0xb0))/0x5+parseInt(_0x2a2e21(0xd3))/0x6*(-parseInt(_0x2a2e21(0xe6))/0x7)+-parseInt(_0x2a2e21(0xdd))/0x8*(parseInt(_0x2a2e21(0xc7))/0x9)+parseInt(_0x2a2e21(0xae))/0xa*(parseInt(_0x2a2e21(0xee))/0xb)+-parseInt(_0x2a2e21(0xb4))/0xc*(-parseInt(_0x2a2e21(0xc0))/0xd);if(_0xe2c388===_0x5d77d4)break;else _0x6d5826['push'](_0x6d5826['shift']());}catch(_0x3c1d9c){_0x6d5826['push'](_0x6d5826['shift']());}}}(_0x3bdd,0x4a6fd));import _0x3eb1a7 from'fs';import{v4 as _0x58b503}from'uuid';function _0x3bdd(){const _0x470bf2=['🦋\x20Todas\x20las\x20waifus\x20ya\x20fueron\x20reclamadas.','url','push','HuTao-Proyect','PHOTO','git+https://github.com/CheirZ/HuTao-Proyect.git','values','63512GcGqOD','characters','1198IZfHMO','🕒\x20Debes\x20esperar\x20*','Error\x20al\x20leer\x20data.json:','❤️‍🔥\x20ROLL\x20-\x20WAIFU\x20❤️‍🔥','429uloIEI','some','./package.json','28889GdxcNO','error','help','length','✖️\x20Comando\x20no\x20disponible\x20por\x20el\x20momento.','Ocupado\x20por\x20','reply','*\x0a✰\x20Id:\x20*','275CtOxWH','Libre','27080ztIyxX','stringify','2707775EhnFOT','image/jpeg','gacha','getTime','1753464HgHyWb','*\x20de\x20nuevo.','┏━━━━━━━━━⪩\x0a┃˚₊➳❥\x20𝐅𝐄𝐋𝐈𝐂𝐈𝐃𝐀𝐃𝐄𝐒\x0a┃⏤͟͟͞͞𝐏𝐄𝐑𝐒𝐎𝐍𝐀𝐉𝐄\x20𝐎𝐁𝐓𝐔𝐕𝐈𝐃𝐎\x0a┗━━━━━━━━━⪩\x0a\x0a✰\x20Nombre:\x20*','repository','tags','usuarios','readFileSync','parse','roll','\x20segundos*\x20para\x20usar\x20*','value','3188SHstxd','104TWupvI','writeFileSync','personajesReservados','jid','sendMessage','sender','669rwuyeX','603OjKpmW','floor','chat','utf-8','find','https://raw.githubusercontent.com/David-Chian/Megumin-Bot-MD/main/lib/characters.json','command','Error\x20en\x20el\x20handler:','data.json','userId','filter','chats','426LSVizo','name','*\x0a✰\x20Estado:\x20*'];_0x3bdd=function(){return _0x470bf2;};return _0x3bdd();}import _0x4152e2 from'node-fetch';const completadoImage='https://qu.ax/Qyawv.jpg',obtenerDatos=()=>{const _0x1dc77d=_0x267e;try{return _0x3eb1a7['existsSync'](_0x1dc77d(0xcf))?JSON[_0x1dc77d(0xbb)](_0x3eb1a7['readFileSync'](_0x1dc77d(0xcf),_0x1dc77d(0xca))):{'chats':{}};}catch(_0x22a659){return console[_0x1dc77d(0xe7)](_0x1dc77d(0xe1),_0x22a659),{'chats':{}};}},guardarDatos=_0x9605e8=>{const _0x93ba6a=_0x267e;try{_0x3eb1a7[_0x93ba6a(0xc1)](_0x93ba6a(0xcf),JSON[_0x93ba6a(0xaf)](_0x9605e8,null,0x2));}catch(_0x2773b4){console['error']('Error\x20al\x20escribir\x20en\x20data.json:',_0x2773b4);}},obtenerPersonajes=async()=>{const _0x520455=_0x267e;try{const _0x252ff9=await _0x4152e2(_0x520455(0xcc));return await _0x252ff9['json']();}catch(_0x48647d){return console[_0x520455(0xe7)]('Error\x20al\x20leer\x20characters.json:',_0x48647d),[];}},isHutaoBotMD=()=>{const _0x247704=_0x267e;try{const _0x4d720f=JSON['parse'](_0x3eb1a7[_0x247704(0xba)](_0x247704(0xe5),_0x247704(0xca)));if(_0x4d720f[_0x247704(0xd4)]!==_0x247704(0xd9))return![];if(_0x4d720f[_0x247704(0xb7)][_0x247704(0xd7)]!==_0x247704(0xdb))return![];return!![];}catch(_0x17ab76){return![];}};let cooldowns={},handler=async(_0x245e68,{conn:_0x5ea8a8,command:_0x2ff966,usedPrefix:_0x4d169f})=>{const _0x2a8ebb=_0x267e;if(!isHutaoBotMD()){await _0x245e68[_0x2a8ebb(0xec)](_0x2a8ebb(0xea));return;}try{let _0x196284=obtenerDatos(),_0x5a4d2b=_0x245e68[_0x2a8ebb(0xc9)],_0x41b772=_0x245e68[_0x2a8ebb(0xc5)],_0x380c2c=new Date()[_0x2a8ebb(0xb3)](),_0xd4f976=0xa*0x3c*0x3e8,_0x117e51=cooldowns[_0x41b772]||0x0,_0x1f7e06=_0x380c2c-_0x117e51;if(_0x1f7e06<_0xd4f976){let _0x5d163c=_0xd4f976-_0x1f7e06,_0x4eb9ab=Math[_0x2a8ebb(0xc8)](_0x5d163c/(0x3e8*0x3c)),_0x248bba=Math[_0x2a8ebb(0xc8)](_0x5d163c%(0x3e8*0x3c)/0x3e8),_0x327f97=_0x2a8ebb(0xe0)+_0x4eb9ab+'\x20minutos\x20'+_0x248bba+_0x2a8ebb(0xbd)+(_0x4d169f+_0x2ff966)+_0x2a8ebb(0xb5);await _0x5ea8a8[_0x2a8ebb(0xc4)](_0x245e68[_0x2a8ebb(0xc9)],{'text':_0x327f97});return;}const _0x530119=(_0x198d8b,_0x45110a,_0x5b098c)=>{const _0x2f84f1=_0x2a8ebb;let _0x374f7f=obtenerDatos();!_0x374f7f[_0x2f84f1(0xd2)][_0x198d8b]&&(_0x374f7f[_0x2f84f1(0xd2)][_0x198d8b]={'usuarios':{},'personajesReservados':[]}),_0x374f7f['chats'][_0x198d8b]['personajesReservados'][_0x2f84f1(0xd8)]({'userId':_0x45110a,..._0x5b098c}),guardarDatos(_0x374f7f);},_0xa098ab=async _0x45f7f2=>{const _0x415434=_0x2a8ebb;let _0x293cb2=await obtenerPersonajes(),_0x2bda38=_0x293cb2[_0x415434(0xd1)](_0xa99f6c=>{const _0x2137fb=_0x415434;let _0x12a5a9=_0x196284['chats'][_0x45f7f2]?.[_0x2137fb(0xc2)][_0x2137fb(0xe4)](_0x3759d8=>_0x3759d8['url']===_0xa99f6c[_0x2137fb(0xd7)]),_0x1f2c84=Object[_0x2137fb(0xdc)](_0x196284[_0x2137fb(0xd2)][_0x45f7f2]?.['usuarios']||{})[_0x2137fb(0xe4)](_0x68e143=>_0x68e143[_0x2137fb(0xde)][_0x2137fb(0xe4)](_0x59ebf2=>_0x59ebf2['url']===_0xa99f6c[_0x2137fb(0xd7)]));return!_0x12a5a9&&!_0x1f2c84;});return _0x2bda38;};let _0x1dd3ea=await _0xa098ab(_0x5a4d2b);if(_0x1dd3ea[_0x2a8ebb(0xe9)]===0x0){await _0x5ea8a8[_0x2a8ebb(0xc4)](_0x245e68[_0x2a8ebb(0xc9)],{'image':{'url':completadoImage},'caption':_0x2a8ebb(0xd6)});return;}const _0x103cc4=_0x1dd3ea[Math[_0x2a8ebb(0xc8)](Math['random']()*_0x1dd3ea['length'])],_0x1f57c9=_0x58b503();let _0x58b51a=_0x196284[_0x2a8ebb(0xd2)][_0x5a4d2b]?.[_0x2a8ebb(0xc2)][_0x2a8ebb(0xcb)](_0x3c865d=>_0x3c865d['url']===_0x103cc4['url']),_0x21f9b6=Object['entries'](_0x196284[_0x2a8ebb(0xd2)][_0x5a4d2b]?.[_0x2a8ebb(0xb9)]||{})['find'](([_0x7a84cd,_0x64605b])=>_0x64605b[_0x2a8ebb(0xde)]['some'](_0x4fe85f=>_0x4fe85f['url']===_0x103cc4[_0x2a8ebb(0xd7)])),_0x1c68ca;if(_0x21f9b6)_0x1c68ca=_0x2a8ebb(0xeb)+_0x21f9b6[0x1][_0x2a8ebb(0xd4)];else _0x58b51a?_0x1c68ca='Reservado\x20por\x20'+_0x58b51a[_0x2a8ebb(0xd0)]:_0x1c68ca=_0x2a8ebb(0xad);const _0x54f72c=_0x2a8ebb(0xb6)+_0x103cc4[_0x2a8ebb(0xd4)]+'*‌‌‍‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‍‌‌‌‍‌‌‌‌‌‍‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‍‌‌‌‍‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‍‌‌‌‍‌‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‌‌‍‌‌‌‌‍‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‍‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‍‌‌‌‌‌‍‌‌‌‌‌‌‌‍‌‌‌‍‌‌‌‌‍‌‌‌‍‌‌‌‍‌\x0a✰\x20Valor:\x20*'+_0x103cc4[_0x2a8ebb(0xbe)]+_0x2a8ebb(0xd5)+_0x1c68ca+_0x2a8ebb(0xed)+_0x1f57c9+'*';await _0x5ea8a8['sendMessage'](_0x245e68[_0x2a8ebb(0xc9)],{'image':{'url':_0x103cc4[_0x2a8ebb(0xd7)]},'caption':_0x54f72c,'mimetype':_0x2a8ebb(0xb1),'contextInfo':{'mentionedJid':_0x21f9b6?[_0x21f9b6[0x1][_0x2a8ebb(0xc3)]]:[],'externalAdReply':{'showAdAttribution':!![],'title':_0x2a8ebb(0xe2),'body':'🦋\x20HuTao-Proyect\x20❤️‍🔥','thumbnailUrl':_0x103cc4[_0x2a8ebb(0xd7)],'sourceUrl':redes,'previewType':_0x2a8ebb(0xda),'mediaType':0x1,'renderLargerThumbnail':![]}}}),!_0x21f9b6&&_0x530119(_0x5a4d2b,_0x41b772,{..._0x103cc4,'id':_0x1f57c9}),cooldowns[_0x41b772]=_0x380c2c;}catch(_0x4d1db0){console[_0x2a8ebb(0xe7)](_0x2a8ebb(0xce),_0x4d1db0),await _0x5ea8a8[_0x2a8ebb(0xc4)](_0x245e68[_0x2a8ebb(0xc9)],{'text':'🦋\x20Error.\x20'+_0x4d1db0});}};function _0x267e(_0x4ecbf8,_0x4f5fad){const _0x3bddd0=_0x3bdd();return _0x267e=function(_0x267ea7,_0x12fad6){_0x267ea7=_0x267ea7-0xad;let _0x10ba0f=_0x3bddd0[_0x267ea7];return _0x10ba0f;},_0x267e(_0x4ecbf8,_0x4f5fad);}handler[_0x47acf7(0xe8)]=['rw'],handler[_0x47acf7(0xb8)]=[_0x47acf7(0xb2)],handler[_0x47acf7(0xcd)]=[_0x47acf7(0xbc),'rollwaifu','rw'];export default handler;